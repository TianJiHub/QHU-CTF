# QHU-CTF竞赛平台

## 项目背景

### 项目概述
CTF（Capture The Flag）竞赛平台是一个专为网络安全竞赛设计的现代化Web应用系统。该平台旨在为网络安全爱好者、学生和专业人士提供一个安全、稳定、功能丰富的在线竞赛环境。

### 项目目标
- **教育价值**：通过实战化的网络安全挑战，提升参赛者的安全技能
- **竞赛管理**：为竞赛组织者提供完整的赛事管理工具
- **社区建设**：构建网络安全学习和交流的社区平台
- **技术创新**：采用现代化技术栈，提供优秀的用户体验

### 应用场景
- **高校网络安全课程**：作为实验平台支持教学活动
- **企业安全培训**：提供员工安全意识和技能培训
- **公开竞赛活动**：举办各类网络安全竞赛
- **个人技能提升**：为个人学习者提供练习环境

## 核心功能

### 用户管理系统
- **多角色权限控制**
  - 管理员：平台管理、用户管理、竞赛配置
  - 出题者：题目创建、编辑、审核
  - 参赛者：题目解答、成绩查看、个人资料管理
  
- **用户认证与安全**
  - JWT令牌认证机制
  - 密码强度验证
  - 账户锁定保护
  - 邮箱验证激活

### 题目管理系统
- **多类型题目支持**
  - Web安全：SQL注入、XSS、CSRF等
  - 密码学：加密算法、哈希破解等
  - 逆向工程：二进制分析、反汇编等
  - 取证分析：数字取证、日志分析等
  - 杂项：编程、逻辑推理等

- **题目生命周期管理**
  - 题目创建与编辑
  - 多级审核流程
  - 动态难度调整
  - 题目标签分类

### 竞赛管理系统
- **灵活的竞赛配置**
  - 竞赛时间设置
  - 参赛资格控制
  - 题目分组管理
  - 积分规则定制

- **实时竞赛监控**
  - 参赛状态监控
  - 异常行为检测
  - 实时排名更新
  - 竞赛数据统计

### 积分排名系统
- **多维度排名机制**
  - 实时积分排行榜
  - 历史成绩统计
  - 个人能力雷达图
  - 团队协作排名

- **积分算法优化**
  - 动态积分计算
  - 首解奖励机制
  - 难度系数调整
  - 时间衰减算法

### 数据可视化系统
- **ECharts动态图表**
  - 竞赛数据统计图表
  - 参赛者能力分析
  - 题目难度分布
  - 实时数据监控

- **多维度数据展示**
  - 柱状图：积分分布、题目类型统计
  - 折线图：积分变化趋势、参与度分析
  - 饼图：题目完成率、用户分布
  - 雷达图：个人能力评估

### 实时通知系统
- **WebSocket实时通信**
  - 竞赛公告推送
  - 题目更新通知
  - 排名变化提醒
  - 系统消息通知

- **多渠道通知支持**
  - 站内消息系统
  - 邮件通知服务
  - 移动端推送（预留接口）

## 系统架构设计

### 整体架构
```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   前端应用层     │    │   反向代理层     │    │   负载均衡层     │
│   Vue.js 3.x    │◄──►│     Nginx       │◄──►│   Load Balancer │
└─────────────────┘    └─────────────────┘    └─────────────────┘
         │                       │                       │
         ▼                       ▼                       ▼
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   API网关层      │    │   应用服务层     │    │   数据存储层     │
│   Flask Router  │◄──►│   Flask App     │◄──►│  PostgreSQL     │
└─────────────────┘    └─────────────────┘    │     Redis       │
         │                       │             └─────────────────┘
         ▼                       ▼
┌─────────────────┐    ┌─────────────────┐
│   消息队列层     │    │   文件存储层     │
│     Celery      │    │   File System   │
│     Redis       │    │   (Future: OSS) │
└─────────────────┘    └─────────────────┘
```

### 前端架构
- **组件化设计**：基于Vue 3 Composition API的组件化开发
- **状态管理**：Pinia实现全局状态管理
- **路由管理**：Vue Router实现单页应用路由
- **UI框架**：Element Plus + Tailwind CSS双重UI方案

### 后端架构
- **分层架构**：Controller → Service → Model的经典三层架构
- **RESTful API**：标准化的API接口设计
- **中间件系统**：认证、授权、日志、异常处理中间件
- **插件化设计**：支持功能模块的插件化扩展

### 数据库设计
- **主数据库**：PostgreSQL存储核心业务数据
- **缓存层**：Redis实现会话存储和数据缓存
- **数据迁移**：Flask-Migrate管理数据库版本控制

### 安全架构
- **认证授权**：JWT令牌 + RBAC权限控制
- **数据加密**：敏感数据加密存储
- **输入验证**：全面的输入数据验证和过滤
- **安全头部**：HTTP安全头部配置

## 技术特色

### 现代化技术栈
- **前端**：Vue 3 + Vite + TypeScript
- **后端**：Flask 2.x + SQLAlchemy 2.0
- **数据库**：PostgreSQL 14 + Redis 7.x
- **容器化**：Docker + Docker Compose

### 高性能优化
- **前端优化**
  - 组件懒加载
  - 代码分割
  - 静态资源压缩
  - CDN加速

- **后端优化**
  - 数据库查询优化
  - Redis缓存策略
  - 异步任务处理
  - 连接池管理

### 可扩展性设计
- **微服务架构**：支持服务拆分和独立部署
- **插件系统**：支持第三方功能扩展
- **API版本控制**：向后兼容的API设计
- **配置管理**：环境变量和配置文件管理

### 开发体验优化
- **热更新**：开发环境实时更新
- **代码规范**：ESLint + Prettier + Black
- **自动化测试**：单元测试 + 集成测试
- **CI/CD**：GitHub Actions自动化部署

## 部署方案

### 开发环境
```bash
# 克隆项目
git clone <https://github.com/TianJiHub/QHU-CTF>
cd ctfsite

# 启动开发环境
docker-compose up -d

# 访问应用
# 前端：http://localhost:3000
# 后端API：http://localhost:5000
# 数据库：localhost:5432
```

### 生产环境
- **容器化部署**：Docker + Kubernetes
- **负载均衡**：Nginx + HAProxy
- **数据库集群**：PostgreSQL主从复制
- **缓存集群**：Redis Cluster
- **监控告警**：Prometheus + Grafana

### 扩展性考虑
- **水平扩展**：支持多实例部署
- **垂直扩展**：支持硬件资源升级
- **CDN集成**：静态资源全球加速
- **云原生**：支持云平台部署

## 项目规范

### 代码规范
- **命名规范**：遵循各语言最佳实践
- **注释规范**：完整的代码注释和文档
- **提交规范**：Conventional Commits规范
- **分支管理**：Git Flow工作流

### 文档规范
- **API文档**：Swagger/OpenAPI自动生成
- **用户手册**：详细的使用说明
- **开发文档**：技术架构和开发指南
- **部署文档**：环境配置和部署流程

### 测试规范
- **单元测试**：核心功能单元测试覆盖
- **集成测试**：API接口集成测试
- **端到端测试**：关键业务流程测试
- **性能测试**：负载和压力测试

## 未来规划

### 功能扩展
- **移动端应用**：React Native/Flutter移动应用
- **AI辅助**：智能题目推荐和难度评估
- **社交功能**：用户交流和团队协作
- **国际化**：多语言支持

### 技术升级
- **微服务架构**：服务拆分和治理
- **云原生**：Kubernetes容器编排
- **大数据分析**：用户行为和竞赛数据分析
- **机器学习**：智能反作弊和个性化推荐

### 生态建设
- **开源社区**：开源项目和社区建设
- **插件市场**：第三方插件生态
- **API开放**：开放API和SDK
- **合作伙伴**：与高校和企业合作

## 联系方式

- **项目作者**：sunsky
- **技术支持**：通过GitHub Issues提交问题
- **贡献指南**：参考CONTRIBUTING.md文档
- **许可证**：MIT License

---

*本项目致力于推动网络安全教育和技术发展，欢迎社区贡献和反馈。*