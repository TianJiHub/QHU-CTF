<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="QHU-CTF ç”¨æˆ·æ³¨å†Œ - åˆ›å»ºæ‚¨çš„ç«èµ›è´¦æˆ·">
    <meta name="keywords" content="CTF, æ³¨å†Œ, ç”¨æˆ·è´¦æˆ·, ç«èµ›æŠ¥å">
    <title>ç”¨æˆ·æ³¨å†Œ - QHU-CTF</title>
    
    <!-- æ ·å¼æ–‡ä»¶ -->
    <link rel="stylesheet" href="../assets/css/common-styles.css">
    <link rel="stylesheet" href="../assets/css/theme-system.css">
    <link rel="stylesheet" href="../assets/css/responsive-styles.css">
    
    <style>
        /* æ³¨å†Œé¡µé¢ç‰¹å®šæ ·å¼ */
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding: 2rem 1rem;
        }

        .register-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            width: 100%;
            max-width: 1000px;
            display: grid;
            grid-template-columns: 1fr 1.2fr;
            min-height: 700px;
        }

        .register-left {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 3rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .register-logo {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .register-brand {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .register-tagline {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 2rem;
        }

        .register-benefits {
            list-style: none;
            padding: 0;
            margin: 0;
            text-align: left;
        }

        .register-benefits li {
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .register-benefits li::before {
            content: "ğŸ¯";
            font-size: 1.2rem;
        }

        .register-right {
            padding: 3rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            overflow-y: auto;
        }

        .register-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .register-title {
            font-size: 2rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 0.5rem;
        }

        .register-subtitle {
            color: #666;
            font-size: 1rem;
        }

        .register-form {
            display: flex;
            flex-direction: column;
            gap: 1.2rem;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        .form-label {
            font-weight: 600;
            color: #333;
            font-size: 0.9rem;
        }

        .form-label.required::after {
            content: " *";
            color: #e74c3c;
        }

        .form-input {
            padding: 0.8rem;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }

        .form-input:focus {
            outline: none;
            border-color: #667eea;
            background: white;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-input.error {
            border-color: #e74c3c;
            background: #fdf2f2;
        }

        .form-input.success {
            border-color: #27ae60;
            background: #f2fdf2;
        }

        .form-select {
            padding: 0.8rem;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 0.9rem;
            background: #f8f9fa;
            cursor: pointer;
        }

        .form-select:focus {
            outline: none;
            border-color: #667eea;
            background: white;
        }

        .password-strength {
            margin-top: 0.5rem;
        }

        .strength-bar {
            height: 4px;
            background: #e1e5e9;
            border-radius: 2px;
            overflow: hidden;
            margin-bottom: 0.5rem;
        }

        .strength-fill {
            height: 100%;
            transition: all 0.3s ease;
            width: 0%;
        }

        .strength-weak .strength-fill {
            background: #e74c3c;
            width: 25%;
        }

        .strength-fair .strength-fill {
            background: #f39c12;
            width: 50%;
        }

        .strength-good .strength-fill {
            background: #f1c40f;
            width: 75%;
        }

        .strength-strong .strength-fill {
            background: #27ae60;
            width: 100%;
        }

        .strength-text {
            font-size: 0.8rem;
            color: #666;
        }

        .checkbox-group {
            display: flex;
            align-items: flex-start;
            gap: 0.8rem;
            margin: 1rem 0;
        }

        .checkbox-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
            margin-top: 2px;
        }

        .checkbox-label {
            font-size: 0.9rem;
            color: #333;
            line-height: 1.4;
        }

        .checkbox-label a {
            color: #667eea;
            text-decoration: none;
        }

        .checkbox-label a:hover {
            text-decoration: underline;
        }

        .register-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }

        .register-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .register-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .login-link {
            text-align: center;
            margin-top: 1.5rem;
            color: #666;
        }

        .login-link a {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
        }

        .login-link a:hover {
            color: #764ba2;
        }

        .theme-toggle {
            position: fixed;
            top: 2rem;
            right: 2rem;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 0.8rem;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .back-home {
            position: fixed;
            top: 2rem;
            left: 2rem;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .back-home:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        /* é”™è¯¯æç¤ºæ ·å¼ */
        .error-message {
            background: #fee;
            color: #c33;
            padding: 0.8rem;
            border-radius: 8px;
            border: 1px solid #fcc;
            margin-bottom: 1rem;
            display: none;
            font-size: 0.9rem;
        }

        .success-message {
            background: #efe;
            color: #3c3;
            padding: 0.8rem;
            border-radius: 8px;
            border: 1px solid #cfc;
            margin-bottom: 1rem;
            display: none;
            font-size: 0.9rem;
        }

        .field-error {
            color: #e74c3c;
            font-size: 0.8rem;
            margin-top: 0.3rem;
            display: none;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            body {
                padding: 1rem;
            }

            .register-container {
                grid-template-columns: 1fr;
                margin: 0;
                max-width: none;
            }

            .register-left {
                padding: 2rem;
                min-height: 200px;
            }

            .register-right {
                padding: 2rem;
            }

            .register-brand {
                font-size: 2rem;
            }

            .register-title {
                font-size: 1.5rem;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .theme-toggle,
            .back-home {
                position: absolute;
            }
        }

        /* åŠ è½½çŠ¶æ€ */
        .register-btn.loading {
            opacity: 0.7;
            cursor: not-allowed;
        }

        .register-btn.loading::after {
            content: "";
            width: 16px;
            height: 16px;
            border: 2px solid transparent;
            border-top: 2px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-left: 0.5rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- è¿”å›é¦–é¡µæŒ‰é’® -->
    <a href="index.html" class="back-home">â† è¿”å›é¦–é¡µ</a>
    
    <!-- ä¸»é¢˜åˆ‡æ¢æŒ‰é’® -->
    <button class="theme-toggle" id="themeToggle">ğŸŒ™</button>

    <!-- æ³¨å†Œå®¹å™¨ -->
    <div class="register-container">
        <!-- å·¦ä¾§å“ç‰ŒåŒºåŸŸ -->
        <div class="register-left">
            <div class="register-logo">ğŸ›¡ï¸</div>
            <h1 class="register-brand">QHU-CTF</h1>
            <p class="register-tagline">åŠ å…¥æˆ‘ä»¬çš„ç½‘ç»œå®‰å…¨ç«èµ›</p>
            <ul class="register-benefits">
                <li>å‚ä¸ç²¾å½©çš„CTFç«èµ›</li>
                <li>æå‡ç½‘ç»œå®‰å…¨æŠ€èƒ½</li>
                <li>ä¸åŒè¡Œäº¤æµå­¦ä¹ </li>
                <li>è·å¾—ä¸“ä¸šè®¤è¯</li>
                <li>èµ¢å–ä¸°åšå¥–å“</li>
            </ul>
        </div>

        <!-- å³ä¾§æ³¨å†Œè¡¨å• -->
        <div class="register-right">
            <div class="register-header">
                <h2 class="register-title">åˆ›å»ºè´¦æˆ·</h2>
                <p class="register-subtitle">å¡«å†™ä»¥ä¸‹ä¿¡æ¯å®Œæˆæ³¨å†Œ</p>
            </div>

            <!-- é”™è¯¯/æˆåŠŸæ¶ˆæ¯ -->
            <div class="error-message" id="errorMessage"></div>
            <div class="success-message" id="successMessage"></div>

            <!-- æ³¨å†Œè¡¨å• -->
            <form class="register-form" id="registerForm">
                <!-- åŸºæœ¬ä¿¡æ¯ -->
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label required" for="firstName">å§“</label>
                        <input 
                            type="text" 
                            id="firstName" 
                            name="firstName" 
                            class="form-input" 
                            placeholder="è¯·è¾“å…¥å§“æ°"
                            required
                        >
                        <div class="field-error" id="firstNameError"></div>
                    </div>
                    <div class="form-group">
                        <label class="form-label required" for="lastName">å</label>
                        <input 
                            type="text" 
                            id="lastName" 
                            name="lastName" 
                            class="form-input" 
                            placeholder="è¯·è¾“å…¥åå­—"
                            required
                        >
                        <div class="field-error" id="lastNameError"></div>
                    </div>
                </div>

                <!-- ç”¨æˆ·åå’Œé‚®ç®± -->
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label required" for="username">ç”¨æˆ·å</label>
                        <input 
                            type="text" 
                            id="username" 
                            name="username" 
                            class="form-input" 
                            placeholder="3-20ä¸ªå­—ç¬¦ï¼Œå­—æ¯æ•°å­—ä¸‹åˆ’çº¿"
                            required
                        >
                        <div class="field-error" id="usernameError"></div>
                    </div>
                    <div class="form-group">
                        <label class="form-label required" for="email">é‚®ç®±åœ°å€</label>
                        <input 
                            type="email" 
                            id="email" 
                            name="email" 
                            class="form-input" 
                            placeholder="è¯·è¾“å…¥é‚®ç®±åœ°å€"
                            required
                        >
                        <div class="field-error" id="emailError"></div>
                    </div>
                </div>

                <!-- å­¦æ ¡å’Œä¸“ä¸š -->
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label required" for="school">å­¦æ ¡</label>
                        <select id="school" name="school" class="form-select" required>
                            <option value="">è¯·é€‰æ‹©å­¦æ ¡</option>
                            <option value="qhu">æ¸…åå¤§å­¦</option>
                            <option value="pku">åŒ—äº¬å¤§å­¦</option>
                            <option value="buaa">åŒ—äº¬èˆªç©ºèˆªå¤©å¤§å­¦</option>
                            <option value="bit">åŒ—äº¬ç†å·¥å¤§å­¦</option>
                            <option value="other">å…¶ä»–å­¦æ ¡</option>
                        </select>
                        <div class="field-error" id="schoolError"></div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="major">ä¸“ä¸š</label>
                        <input 
                            type="text" 
                            id="major" 
                            name="major" 
                            class="form-input" 
                            placeholder="è¯·è¾“å…¥ä¸“ä¸šï¼ˆå¯é€‰ï¼‰"
                        >
                    </div>
                </div>

                <!-- å¯†ç  -->
                <div class="form-group full-width">
                    <label class="form-label required" for="password">å¯†ç </label>
                    <input 
                        type="password" 
                        id="password" 
                        name="password" 
                        class="form-input" 
                        placeholder="è‡³å°‘8ä¸ªå­—ç¬¦ï¼ŒåŒ…å«å­—æ¯å’Œæ•°å­—"
                        required
                    >
                    <div class="password-strength" id="passwordStrength">
                        <div class="strength-bar">
                            <div class="strength-fill"></div>
                        </div>
                        <div class="strength-text">å¯†ç å¼ºåº¦ï¼šè¯·è¾“å…¥å¯†ç </div>
                    </div>
                    <div class="field-error" id="passwordError"></div>
                </div>

                <!-- ç¡®è®¤å¯†ç  -->
                <div class="form-group full-width">
                    <label class="form-label required" for="confirmPassword">ç¡®è®¤å¯†ç </label>
                    <input 
                        type="password" 
                        id="confirmPassword" 
                        name="confirmPassword" 
                        class="form-input" 
                        placeholder="è¯·å†æ¬¡è¾“å…¥å¯†ç "
                        required
                    >
                    <div class="field-error" id="confirmPasswordError"></div>
                </div>

                <!-- åŒæ„æ¡æ¬¾ -->
                <div class="checkbox-group">
                    <input type="checkbox" id="agreeTerms" name="agreeTerms" required>
                    <label class="checkbox-label" for="agreeTerms">
                        æˆ‘å·²é˜…è¯»å¹¶åŒæ„ <a href="#" target="_blank">ç”¨æˆ·åè®®</a> å’Œ <a href="#" target="_blank">éšç§æ”¿ç­–</a>
                    </label>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="agreeNewsletter" name="agreeNewsletter">
                    <label class="checkbox-label" for="agreeNewsletter">
                        æˆ‘å¸Œæœ›æ¥æ”¶ç«èµ›é€šçŸ¥å’ŒæŠ€æœ¯èµ„è®¯ï¼ˆå¯é€‰ï¼‰
                    </label>
                </div>

                <button type="submit" class="register-btn" id="registerBtn">
                    åˆ›å»ºè´¦æˆ·
                </button>
            </form>

            <!-- ç™»å½•é“¾æ¥ -->
            <div class="login-link">
                å·²æœ‰è´¦æˆ·ï¼Ÿ <a href="login.html">ç«‹å³ç™»å½•</a>
            </div>
        </div>
    </div>

    <!-- JavaScriptæ–‡ä»¶ -->
    <script src="../assets/js/common-scripts.js"></script>
    <script src="../assets/js/theme-manager.js"></script>
    
    <script>
        // æ³¨å†Œé¡µé¢ç‰¹å®šçš„JavaScriptåŠŸèƒ½
        document.addEventListener('DOMContentLoaded', function() {
            const registerForm = document.getElementById('registerForm');
            const registerBtn = document.getElementById('registerBtn');
            const errorMessage = document.getElementById('errorMessage');
            const successMessage = document.getElementById('successMessage');
            const passwordInput = document.getElementById('password');
            const confirmPasswordInput = document.getElementById('confirmPassword');
            const passwordStrength = document.getElementById('passwordStrength');

            // è¡¨å•éªŒè¯è§„åˆ™
            const validators = {
                firstName: {
                    required: true,
                    minLength: 1,
                    maxLength: 10,
                    pattern: /^[\u4e00-\u9fa5a-zA-Z]+$/,
                    message: 'å§“æ°åªèƒ½åŒ…å«ä¸­æ–‡æˆ–è‹±æ–‡å­—æ¯'
                },
                lastName: {
                    required: true,
                    minLength: 1,
                    maxLength: 10,
                    pattern: /^[\u4e00-\u9fa5a-zA-Z]+$/,
                    message: 'åå­—åªèƒ½åŒ…å«ä¸­æ–‡æˆ–è‹±æ–‡å­—æ¯'
                },
                username: {
                    required: true,
                    minLength: 3,
                    maxLength: 20,
                    pattern: /^[a-zA-Z0-9_]+$/,
                    message: 'ç”¨æˆ·ååªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿'
                },
                email: {
                    required: true,
                    pattern: /^[^\s@]+@[^\s@]+\.[^\s@]+$/,
                    message: 'è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€'
                },
                school: {
                    required: true,
                    message: 'è¯·é€‰æ‹©å­¦æ ¡'
                },
                password: {
                    required: true,
                    minLength: 8,
                    pattern: /^(?=.*[a-zA-Z])(?=.*\d)/,
                    message: 'å¯†ç è‡³å°‘8ä½ï¼ŒåŒ…å«å­—æ¯å’Œæ•°å­—'
                },
                confirmPassword: {
                    required: true,
                    match: 'password',
                    message: 'ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´'
                }
            };

            // å¯†ç å¼ºåº¦æ£€æµ‹
            passwordInput.addEventListener('input', function() {
                const password = this.value;
                const strength = calculatePasswordStrength(password);
                updatePasswordStrength(strength);
            });

            function calculatePasswordStrength(password) {
                let score = 0;
                if (password.length >= 8) score += 1;
                if (password.length >= 12) score += 1;
                if (/[a-z]/.test(password)) score += 1;
                if (/[A-Z]/.test(password)) score += 1;
                if (/\d/.test(password)) score += 1;
                if (/[^a-zA-Z\d]/.test(password)) score += 1;
                
                if (score < 2) return 'weak';
                if (score < 4) return 'fair';
                if (score < 5) return 'good';
                return 'strong';
            }

            function updatePasswordStrength(strength) {
                const strengthBar = passwordStrength.querySelector('.strength-bar');
                const strengthText = passwordStrength.querySelector('.strength-text');
                
                strengthBar.className = 'strength-bar strength-' + strength;
                
                const messages = {
                    weak: 'å¯†ç å¼ºåº¦ï¼šå¼±',
                    fair: 'å¯†ç å¼ºåº¦ï¼šä¸€èˆ¬',
                    good: 'å¯†ç å¼ºåº¦ï¼šè‰¯å¥½',
                    strong: 'å¯†ç å¼ºåº¦ï¼šå¼º'
                };
                
                strengthText.textContent = messages[strength] || 'å¯†ç å¼ºåº¦ï¼šè¯·è¾“å…¥å¯†ç ';
            }

            // å®æ—¶éªŒè¯
            Object.keys(validators).forEach(fieldName => {
                const field = document.getElementById(fieldName);
                if (field) {
                    field.addEventListener('blur', () => validateField(fieldName));
                    field.addEventListener('input', () => clearFieldError(fieldName));
                }
            });

            // è¡¨å•æäº¤å¤„ç†
            registerForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // éªŒè¯æ‰€æœ‰å­—æ®µ
                let isValid = true;
                Object.keys(validators).forEach(fieldName => {
                    if (!validateField(fieldName)) {
                        isValid = false;
                    }
                });

                // æ£€æŸ¥åŒæ„æ¡æ¬¾
                const agreeTerms = document.getElementById('agreeTerms');
                if (!agreeTerms.checked) {
                    showError('è¯·é˜…è¯»å¹¶åŒæ„ç”¨æˆ·åè®®å’Œéšç§æ”¿ç­–');
                    isValid = false;
                }

                if (!isValid) {
                    return;
                }

                // éšè—ä¹‹å‰çš„æ¶ˆæ¯
                hideMessages();

                // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
                showLoading(true);

                // æ”¶é›†è¡¨å•æ•°æ®
                const formData = new FormData(registerForm);
                const userData = Object.fromEntries(formData.entries());

                // æ¨¡æ‹Ÿæ³¨å†Œè¯·æ±‚
                setTimeout(() => {
                    // è¿™é‡Œåº”è¯¥æ˜¯å®é™…çš„æ³¨å†ŒAPIè°ƒç”¨
                    if (Math.random() > 0.3) { // 70%æˆåŠŸç‡æ¨¡æ‹Ÿ
                        showSuccess('æ³¨å†ŒæˆåŠŸï¼è¯·æŸ¥æ”¶é‚®ç®±éªŒè¯é‚®ä»¶');
                        setTimeout(() => {
                            window.location.href = 'login.html';
                        }, 2000);
                    } else {
                        showError('æ³¨å†Œå¤±è´¥ï¼Œè¯¥é‚®ç®±æˆ–ç”¨æˆ·åå·²è¢«ä½¿ç”¨');
                    }
                    showLoading(false);
                }, 2000);
            });

            // å­—æ®µéªŒè¯å‡½æ•°
            function validateField(fieldName) {
                const field = document.getElementById(fieldName);
                const validator = validators[fieldName];
                const value = field.value.trim();

                // æ¸…é™¤ä¹‹å‰çš„é”™è¯¯çŠ¶æ€
                clearFieldError(fieldName);

                // å¿…å¡«éªŒè¯
                if (validator.required && !value) {
                    showFieldError(fieldName, `${field.previousElementSibling.textContent.replace(' *', '')}ä¸èƒ½ä¸ºç©º`);
                    return false;
                }

                // é•¿åº¦éªŒè¯
                if (validator.minLength && value.length < validator.minLength) {
                    showFieldError(fieldName, `é•¿åº¦ä¸èƒ½å°‘äº${validator.minLength}ä¸ªå­—ç¬¦`);
                    return false;
                }

                if (validator.maxLength && value.length > validator.maxLength) {
                    showFieldError(fieldName, `é•¿åº¦ä¸èƒ½è¶…è¿‡${validator.maxLength}ä¸ªå­—ç¬¦`);
                    return false;
                }

                // æ ¼å¼éªŒè¯
                if (validator.pattern && value && !validator.pattern.test(value)) {
                    showFieldError(fieldName, validator.message);
                    return false;
                }

                // åŒ¹é…éªŒè¯ï¼ˆç¡®è®¤å¯†ç ï¼‰
                if (validator.match) {
                    const matchField = document.getElementById(validator.match);
                    if (value !== matchField.value) {
                        showFieldError(fieldName, validator.message);
                        return false;
                    }
                }

                // éªŒè¯é€šè¿‡
                field.classList.add('success');
                return true;
            }

            function showFieldError(fieldName, message) {
                const field = document.getElementById(fieldName);
                const errorElement = document.getElementById(fieldName + 'Error');
                
                field.classList.add('error');
                field.classList.remove('success');
                errorElement.textContent = message;
                errorElement.style.display = 'block';
            }

            function clearFieldError(fieldName) {
                const field = document.getElementById(fieldName);
                const errorElement = document.getElementById(fieldName + 'Error');
                
                field.classList.remove('error');
                errorElement.style.display = 'none';
            }

            // æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯
            function showError(message) {
                errorMessage.textContent = message;
                errorMessage.style.display = 'block';
                successMessage.style.display = 'none';
            }

            // æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
            function showSuccess(message) {
                successMessage.textContent = message;
                successMessage.style.display = 'block';
                errorMessage.style.display = 'none';
            }

            // éšè—æ‰€æœ‰æ¶ˆæ¯
            function hideMessages() {
                errorMessage.style.display = 'none';
                successMessage.style.display = 'none';
            }

            // æ˜¾ç¤º/éšè—åŠ è½½çŠ¶æ€
            function showLoading(loading) {
                if (loading) {
                    registerBtn.classList.add('loading');
                    registerBtn.disabled = true;
                    registerBtn.textContent = 'æ³¨å†Œä¸­...';
                } else {
                    registerBtn.classList.remove('loading');
                    registerBtn.disabled = false;
                    registerBtn.textContent = 'åˆ›å»ºè´¦æˆ·';
                }
            }
        });
    </script>
</body>
</html>