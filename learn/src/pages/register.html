<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="QHU-CTF Áî®Êà∑Ê≥®ÂÜå - ÂàõÂª∫ÊÇ®ÁöÑÁ´ûËµõË¥¶Êà∑">
    <meta name="keywords" content="CTF, Ê≥®ÂÜå, Áî®Êà∑Ë¥¶Êà∑, Á´ûËµõÊä•Âêç">
    <title>Áî®Êà∑Ê≥®ÂÜå - QHU-CTF</title>
    
    <!-- Ê†∑ÂºèÊñá‰ª∂ -->
    <link rel="stylesheet" href="../assets/css/common-styles.css">
    <link rel="stylesheet" href="../assets/css/theme-system.css">
    <link rel="stylesheet" href="../assets/css/responsive-styles.css">
    
    <style>
        /* Ê≥®ÂÜåÈ°µÈù¢ÁâπÂÆöÊ†∑Âºè */
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding: 2rem 1rem;
        }

        .register-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            width: 100%;
            max-width: 1000px;
            display: grid;
            grid-template-columns: 1fr 1.2fr;
            min-height: 700px;
        }

        .register-left {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 3rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .register-logo {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .register-brand {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .register-tagline {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 2rem;
        }

        .register-benefits {
            list-style: none;
            padding: 0;
            margin: 0;
            text-align: left;
        }

        .register-benefits li {
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .register-benefits li::before {
            content: "üéØ";
            font-size: 1.2rem;
        }

        .register-right {
            padding: 3rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            overflow-y: auto;
        }

        .register-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .register-title {
            font-size: 2rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 0.5rem;
        }

        .register-subtitle {
            color: #666;
            font-size: 1rem;
        }

        .register-form {
            display: flex;
            flex-direction: column;
            gap: 1.2rem;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        .form-label {
            font-weight: 600;
            color: #333;
            font-size: 0.9rem;
        }

        .form-label.required::after {
            content: " *";
            color: #e74c3c;
        }

        .form-input {
            padding: 0.8rem;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }

        .form-input:focus {
            outline: none;
            border-color: #667eea;
            background: white;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-input.error {
            border-color: #e74c3c;
            background: #fdf2f2;
        }

        .form-input.success {
            border-color: #27ae60;
            background: #f2fdf2;
        }

        .form-select {
            padding: 0.8rem;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 0.9rem;
            background: #f8f9fa;
            cursor: pointer;
        }

        .form-select:focus {
            outline: none;
            border-color: #667eea;
            background: white;
        }

        .password-strength {
            margin-top: 0.5rem;
        }

        .strength-bar {
            height: 4px;
            background: #e1e5e9;
            border-radius: 2px;
            overflow: hidden;
            margin-bottom: 0.5rem;
        }

        .strength-fill {
            height: 100%;
            transition: all 0.3s ease;
            width: 0%;
        }

        .strength-weak .strength-fill {
            background: #e74c3c;
            width: 25%;
        }

        .strength-fair .strength-fill {
            background: #f39c12;
            width: 50%;
        }

        .strength-good .strength-fill {
            background: #f1c40f;
            width: 75%;
        }

        .strength-strong .strength-fill {
            background: #27ae60;
            width: 100%;
        }

        .strength-text {
            font-size: 0.8rem;
            color: #666;
        }

        .checkbox-group {
            display: flex;
            align-items: flex-start;
            gap: 0.8rem;
            margin: 1rem 0;
        }

        .checkbox-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
            margin-top: 2px;
        }

        .checkbox-label {
            font-size: 0.9rem;
            color: #333;
            line-height: 1.4;
        }

        .checkbox-label a {
            color: #667eea;
            text-decoration: none;
        }

        .checkbox-label a:hover {
            text-decoration: underline;
        }

        .register-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }

        .register-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .register-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .login-link {
            text-align: center;
            margin-top: 1.5rem;
            color: #666;
        }

        .login-link a {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
        }

        .login-link a:hover {
            color: #764ba2;
        }

        .theme-toggle {
            position: fixed;
            top: 2rem;
            right: 2rem;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 0.8rem;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .back-home {
            position: fixed;
            top: 2rem;
            left: 2rem;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .back-home:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        /* ÈîôËØØÊèêÁ§∫Ê†∑Âºè */
        .error-message {
            background: #fee;
            color: #c33;
            padding: 0.8rem;
            border-radius: 8px;
            border: 1px solid #fcc;
            margin-bottom: 1rem;
            display: none;
            font-size: 0.9rem;
        }

        .success-message {
            background: #efe;
            color: #3c3;
            padding: 0.8rem;
            border-radius: 8px;
            border: 1px solid #cfc;
            margin-bottom: 1rem;
            display: none;
            font-size: 0.9rem;
        }

        .field-error {
            color: #e74c3c;
            font-size: 0.8rem;
            margin-top: 0.3rem;
            display: none;
        }

        /* ÂìçÂ∫îÂºèËÆæËÆ° */
        @media (max-width: 768px) {
            body {
                padding: 1rem;
            }

            .register-container {
                grid-template-columns: 1fr;
                margin: 0;
                max-width: none;
            }

            .register-left {
                padding: 2rem;
                min-height: 200px;
            }

            .register-right {
                padding: 2rem;
            }

            .register-brand {
                font-size: 2rem;
            }

            .register-title {
                font-size: 1.5rem;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .theme-toggle,
            .back-home {
                position: absolute;
            }
        }

        /* Âä†ËΩΩÁä∂ÊÄÅ */
        .register-btn.loading {
            opacity: 0.7;
            cursor: not-allowed;
        }

        .register-btn.loading::after {
            content: "";
            width: 16px;
            height: 16px;
            border: 2px solid transparent;
            border-top: 2px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-left: 0.5rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- ËøîÂõûÈ¶ñÈ°µÊåâÈíÆ -->
    <a href="index.html" class="back-home">‚Üê ËøîÂõûÈ¶ñÈ°µ</a>
    
    <!-- ‰∏ªÈ¢òÂàáÊç¢ÊåâÈíÆ -->
    <button class="theme-toggle" id="themeToggle">üåô</button>

    <!-- Ê≥®ÂÜåÂÆπÂô® -->
    <div class="register-container">
        <!-- Â∑¶‰æßÂìÅÁâåÂå∫Âüü -->
        <div class="register-left">
            <div class="register-logo">üõ°Ô∏è</div>
            <h1 class="register-brand">QHU-CTF</h1>
            <p class="register-tagline">Âä†ÂÖ•Êàë‰ª¨ÁöÑÁΩëÁªúÂÆâÂÖ®Á´ûËµõ</p>
            <ul class="register-benefits">
                <li>ÂèÇ‰∏éÁ≤æÂΩ©ÁöÑCTFÁ´ûËµõ</li>
                <li>ÊèêÂçáÁΩëÁªúÂÆâÂÖ®ÊäÄËÉΩ</li>
                <li>‰∏éÂêåË°å‰∫§ÊµÅÂ≠¶‰π†</li>
                <li>Ëé∑Âæó‰∏ì‰∏öËÆ§ËØÅ</li>
                <li>Ëµ¢Âèñ‰∏∞ÂéöÂ•ñÂìÅ</li>
            </ul>
        </div>

        <!-- Âè≥‰æßÊ≥®ÂÜåË°®Âçï -->
        <div class="register-right">
            <div class="register-header">
                <h2 class="register-title">ÂàõÂª∫Ë¥¶Êà∑</h2>
                <p class="register-subtitle">Â°´ÂÜô‰ª•‰∏ã‰ø°ÊÅØÂÆåÊàêÊ≥®ÂÜå</p>
            </div>

            <!-- ÈîôËØØ/ÊàêÂäüÊ∂àÊÅØ -->
            <div class="error-message" id="errorMessage"></div>
            <div class="success-message" id="successMessage"></div>

            <!-- Ê≥®ÂÜåË°®Âçï -->
            <form class="register-form" id="registerForm">
                <!-- Âü∫Êú¨‰ø°ÊÅØ -->
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label required" for="firstName">Âßì</label>
                        <input 
                            type="text" 
                            id="firstName" 
                            name="firstName" 
                            class="form-input" 
                            placeholder="ËØ∑ËæìÂÖ•ÂßìÊ∞è"
                            required
                        >
                        <div class="field-error" id="firstNameError"></div>
                    </div>
                    <div class="form-group">
                        <label class="form-label required" for="lastName">Âêç</label>
                        <input 
                            type="text" 
                            id="lastName" 
                            name="lastName" 
                            class="form-input" 
                            placeholder="ËØ∑ËæìÂÖ•ÂêçÂ≠ó"
                            required
                        >
                        <div class="field-error" id="lastNameError"></div>
                    </div>
                </div>

                <!-- Áî®Êà∑ÂêçÂíåÈÇÆÁÆ± -->
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label required" for="username">Áî®Êà∑Âêç</label>
                        <input 
                            type="text" 
                            id="username" 
                            name="username" 
                            class="form-input" 
                            placeholder="3-20‰∏™Â≠óÁ¨¶ÔºåÂ≠óÊØçÊï∞Â≠ó‰∏ãÂàíÁ∫ø"
                            required
                        >
                        <div class="field-error" id="usernameError"></div>
                    </div>
                    <div class="form-group">
                        <label class="form-label required" for="email">ÈÇÆÁÆ±Âú∞ÂùÄ</label>
                        <input 
                            type="email" 
                            id="email" 
                            name="email" 
                            class="form-input" 
                            placeholder="ËØ∑ËæìÂÖ•ÈÇÆÁÆ±Âú∞ÂùÄ"
                            required
                        >
                        <div class="field-error" id="emailError"></div>
                    </div>
                </div>

                <!-- Â≠¶Ê†°Âíå‰∏ì‰∏ö -->
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label required" for="school">Â≠¶Ê†°</label>
                        <select id="school" name="school" class="form-select" required>
                            <option value="">ËØ∑ÈÄâÊã©Â≠¶Ê†°</option>
                            <option value="qhu">Ê∏ÖÂçéÂ§ßÂ≠¶</option>
                            <option value="pku">Âåó‰∫¨Â§ßÂ≠¶</option>
                            <option value="buaa">Âåó‰∫¨Ëà™Á©∫Ëà™Â§©Â§ßÂ≠¶</option>
                            <option value="bit">Âåó‰∫¨ÁêÜÂ∑•Â§ßÂ≠¶</option>
                            <option value="other">ÂÖ∂‰ªñÂ≠¶Ê†°</option>
                        </select>
                        <div class="field-error" id="schoolError"></div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="major">‰∏ì‰∏ö</label>
                        <input 
                            type="text" 
                            id="major" 
                            name="major" 
                            class="form-input" 
                            placeholder="ËØ∑ËæìÂÖ•‰∏ì‰∏öÔºàÂèØÈÄâÔºâ"
                        >
                    </div>
                </div>

                <!-- ÂØÜÁ†Å -->
                <div class="form-group full-width">
                    <label class="form-label required" for="password">ÂØÜÁ†Å</label>
                    <input 
                        type="password" 
                        id="password" 
                        name="password" 
                        class="form-input" 
                        placeholder="Ëá≥Â∞ë8‰∏™Â≠óÁ¨¶ÔºåÂåÖÂê´Â≠óÊØçÂíåÊï∞Â≠ó"
                        required
                    >
                    <div class="password-strength" id="passwordStrength">
                        <div class="strength-bar">
                            <div class="strength-fill"></div>
                        </div>
                        <div class="strength-text">ÂØÜÁ†ÅÂº∫Â∫¶ÔºöËØ∑ËæìÂÖ•ÂØÜÁ†Å</div>
                    </div>
                    <div class="field-error" id="passwordError"></div>
                </div>

                <!-- Á°ÆËÆ§ÂØÜÁ†Å -->
                <div class="form-group full-width">
                    <label class="form-label required" for="confirmPassword">Á°ÆËÆ§ÂØÜÁ†Å</label>
                    <input 
                        type="password" 
                        id="confirmPassword" 
                        name="confirmPassword" 
                        class="form-input" 
                        placeholder="ËØ∑ÂÜçÊ¨°ËæìÂÖ•ÂØÜÁ†Å"
                        required
                    >
                    <div class="field-error" id="confirmPasswordError"></div>
                </div>

                <!-- ÂêåÊÑèÊù°Ê¨æ -->
                <div class="checkbox-group">
                    <input type="checkbox" id="agreeTerms" name="agreeTerms" required>
                    <label class="checkbox-label" for="agreeTerms">
                        ÊàëÂ∑≤ÈòÖËØªÂπ∂ÂêåÊÑè <a href="#" target="_blank">Áî®Êà∑ÂçèËÆÆ</a> Âíå <a href="#" target="_blank">ÈöêÁßÅÊîøÁ≠ñ</a>
                    </label>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="agreeNewsletter" name="agreeNewsletter">
                    <label class="checkbox-label" for="agreeNewsletter">
                        ÊàëÂ∏åÊúõÊé•Êî∂Á´ûËµõÈÄöÁü•ÂíåÊäÄÊúØËµÑËÆØÔºàÂèØÈÄâÔºâ
                    </label>
                </div>

                <button type="submit" class="register-btn" id="registerBtn">
                    ÂàõÂª∫Ë¥¶Êà∑
                </button>
            </form>

            <!-- ÁôªÂΩïÈìæÊé• -->
            <div class="login-link">
                Â∑≤ÊúâË¥¶Êà∑Ôºü <a href="login.html">Á´ãÂç≥ÁôªÂΩï</a>
            </div>
        </div>
    </div>

    <!-- JavaScriptÊñá‰ª∂ -->
    <script src="../assets/js/common-scripts.js"></script>
    <script src="../assets/js/theme-manager.js"></script>
    
    <script>
        // Ê≥®ÂÜåÈ°µÈù¢ÁâπÂÆöÁöÑJavaScriptÂäüËÉΩ
        document.addEventListener('DOMContentLoaded', function() {
            const registerForm = document.getElementById('registerForm');
            const registerBtn = document.getElementById('registerBtn');
            const errorMessage = document.getElementById('errorMessage');
            const successMessage = document.getElementById('successMessage');
            const passwordInput = document.getElementById('password');
            const confirmPasswordInput = document.getElementById('confirmPassword');
            const passwordStrength = document.getElementById('passwordStrength');

            // Ë°®ÂçïÈ™åËØÅËßÑÂàô
            const validators = {
                firstName: {
                    required: true,
                    minLength: 1,
                    maxLength: 10,
                    pattern: /^[\u4e00-\u9fa5a-zA-Z]+$/,
                    message: 'ÂßìÊ∞èÂè™ËÉΩÂåÖÂê´‰∏≠ÊñáÊàñËã±ÊñáÂ≠óÊØç'
                },
                lastName: {
                    required: true,
                    minLength: 1,
                    maxLength: 10,
                    pattern: /^[\u4e00-\u9fa5a-zA-Z]+$/,
                    message: 'ÂêçÂ≠óÂè™ËÉΩÂåÖÂê´‰∏≠ÊñáÊàñËã±ÊñáÂ≠óÊØç'
                },
                username: {
                    required: true,
                    minLength: 3,
                    maxLength: 20,
                    pattern: /^[a-zA-Z0-9_]+$/,
                    message: 'Áî®Êà∑ÂêçÂè™ËÉΩÂåÖÂê´Â≠óÊØç„ÄÅÊï∞Â≠óÂíå‰∏ãÂàíÁ∫ø'
                },
                email: {
                    required: true,
                    pattern: /^[^\s@]+@[^\s@]+\.[^\s@]+$/,
                    message: 'ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑÈÇÆÁÆ±Âú∞ÂùÄ'
                },
                school: {
                    required: true,
                    message: 'ËØ∑ÈÄâÊã©Â≠¶Ê†°'
                },
                password: {
                    required: true,
                    minLength: 8,
                    pattern: /^(?=.*[a-zA-Z])(?=.*\d)/,
                    message: 'ÂØÜÁ†ÅËá≥Â∞ë8‰ΩçÔºåÂåÖÂê´Â≠óÊØçÂíåÊï∞Â≠ó'
                },
                confirmPassword: {
                    required: true,
                    match: 'password',
                    message: '‰∏§Ê¨°ËæìÂÖ•ÁöÑÂØÜÁ†Å‰∏ç‰∏ÄËá¥'
                }
            };

            // ÂØÜÁ†ÅÂº∫Â∫¶Ê£ÄÊµã
            passwordInput.addEventListener('input', function() {
                const password = this.value;
                const strength = calculatePasswordStrength(password);
                updatePasswordStrength(strength);
            });

            function calculatePasswordStrength(password) {
                let score = 0;
                if (password.length >= 8) score += 1;
                if (password.length >= 12) score += 1;
                if (/[a-z]/.test(password)) score += 1;
                if (/[A-Z]/.test(password)) score += 1;
                if (/\d/.test(password)) score += 1;
                if (/[^a-zA-Z\d]/.test(password)) score += 1;
                
                if (score < 2) return 'weak';
                if (score < 4) return 'fair';
                if (score < 5) return 'good';
                return 'strong';
            }

            function updatePasswordStrength(strength) {
                const strengthBar = passwordStrength.querySelector('.strength-bar');
                const strengthText = passwordStrength.querySelector('.strength-text');
                
                strengthBar.className = 'strength-bar strength-' + strength;
                
                const messages = {
                    weak: 'ÂØÜÁ†ÅÂº∫Â∫¶ÔºöÂº±',
                    fair: 'ÂØÜÁ†ÅÂº∫Â∫¶Ôºö‰∏ÄËà¨',
                    good: 'ÂØÜÁ†ÅÂº∫Â∫¶ÔºöËâØÂ•Ω',
                    strong: 'ÂØÜÁ†ÅÂº∫Â∫¶ÔºöÂº∫'
                };
                
                strengthText.textContent = messages[strength] || 'ÂØÜÁ†ÅÂº∫Â∫¶ÔºöËØ∑ËæìÂÖ•ÂØÜÁ†Å';
            }

            // ÂÆûÊó∂È™åËØÅ
            Object.keys(validators).forEach(fieldName => {
                const field = document.getElementById(fieldName);
                if (field) {
                    field.addEventListener('blur', () => validateField(fieldName));
                    field.addEventListener('input', () => clearFieldError(fieldName));
                }
            });

            // Ë°®ÂçïÊèê‰∫§Â§ÑÁêÜ
            registerForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // È™åËØÅÊâÄÊúâÂ≠óÊÆµ
                let isValid = true;
                Object.keys(validators).forEach(fieldName => {
                    if (!validateField(fieldName)) {
                        isValid = false;
                    }
                });

                // Ê£ÄÊü•ÂêåÊÑèÊù°Ê¨æ
                const agreeTerms = document.getElementById('agreeTerms');
                if (!agreeTerms.checked) {
                    showError('ËØ∑ÈòÖËØªÂπ∂ÂêåÊÑèÁî®Êà∑ÂçèËÆÆÂíåÈöêÁßÅÊîøÁ≠ñ');
                    isValid = false;
                }

                if (!isValid) {
                    return;
                }

                // ÈöêËóè‰πãÂâçÁöÑÊ∂àÊÅØ
                hideMessages();

                // ÊòæÁ§∫Âä†ËΩΩÁä∂ÊÄÅ
                showLoading(true);

                // Êî∂ÈõÜË°®ÂçïÊï∞ÊçÆ
                const formData = new FormData(registerForm);
                const userData = Object.fromEntries(formData.entries());

                // Ê®°ÊãüÊ≥®ÂÜåËØ∑Ê±Ç
                setTimeout(() => {
                    // ËøôÈáåÂ∫îËØ•ÊòØÂÆûÈôÖÁöÑÊ≥®ÂÜåAPIË∞ÉÁî®
                    if (Math.random() > 0.3) { // 70%ÊàêÂäüÁéáÊ®°Êãü
                        showSuccess('Ê≥®ÂÜåÊàêÂäüÔºÅËØ∑Êü•Êî∂ÈÇÆÁÆ±È™åËØÅÈÇÆ‰ª∂');
                        setTimeout(() => {
                            window.location.href = 'login.html';
                        }, 2000);
                    } else {
                        showError('Ê≥®ÂÜåÂ§±Ë¥•ÔºåËØ•ÈÇÆÁÆ±ÊàñÁî®Êà∑ÂêçÂ∑≤Ë¢´‰ΩøÁî®');
                    }
                    showLoading(false);
                }, 2000);
            });

            // Â≠óÊÆµÈ™åËØÅÂáΩÊï∞
            function validateField(fieldName) {
                const field = document.getElementById(fieldName);
                const validator = validators[fieldName];
                const value = field.value.trim();

                // Ê∏ÖÈô§‰πãÂâçÁöÑÈîôËØØÁä∂ÊÄÅ
                clearFieldError(fieldName);

                // ÂøÖÂ°´È™åËØÅ
                if (validator.required && !value) {
                    showFieldError(fieldName, `${field.previousElementSibling.textContent.replace(' *', '')}‰∏çËÉΩ‰∏∫Á©∫`);
                    return false;
                }

                // ÈïøÂ∫¶È™åËØÅ
                if (validator.minLength && value.length < validator.minLength) {
                    showFieldError(fieldName, `ÈïøÂ∫¶‰∏çËÉΩÂ∞ë‰∫é${validator.minLength}‰∏™Â≠óÁ¨¶`);
                    return false;
                }

                if (validator.maxLength && value.length > validator.maxLength) {
                    showFieldError(fieldName, `ÈïøÂ∫¶‰∏çËÉΩË∂ÖËøá${validator.maxLength}‰∏™Â≠óÁ¨¶`);
                    return false;
                }

                // Ê†ºÂºèÈ™åËØÅ
                if (validator.pattern && value && !validator.pattern.test(value)) {
                    showFieldError(fieldName, validator.message);
                    return false;
                }

                // ÂåπÈÖçÈ™åËØÅÔºàÁ°ÆËÆ§ÂØÜÁ†ÅÔºâ
                if (validator.match) {
                    const matchField = document.getElementById(validator.match);
                    if (value !== matchField.value) {
                        showFieldError(fieldName, validator.message);
                        return false;
                    }
                }

                // È™åËØÅÈÄöËøá
                field.classList.add('success');
                return true;
            }

            function showFieldError(fieldName, message) {
                const field = document.getElementById(fieldName);
                const errorElement = document.getElementById(fieldName + 'Error');
                
                field.classList.add('error');
                field.classList.remove('success');
                errorElement.textContent = message;
                errorElement.style.display = 'block';
            }

            function clearFieldError(fieldName) {
                const field = document.getElementById(fieldName);
                const errorElement = document.getElementById(fieldName + 'Error');
                
                field.classList.remove('error');
                errorElement.style.display = 'none';
            }

            // ÊòæÁ§∫ÈîôËØØÊ∂àÊÅØ
            function showError(message) {
                errorMessage.textContent = message;
                errorMessage.style.display = 'block';
                successMessage.style.display = 'none';
            }

            // ÊòæÁ§∫ÊàêÂäüÊ∂àÊÅØ
            function showSuccess(message) {
                successMessage.textContent = message;
                successMessage.style.display = 'block';
                errorMessage.style.display = 'none';
            }

            // ÈöêËóèÊâÄÊúâÊ∂àÊÅØ
            function hideMessages() {
                errorMessage.style.display = 'none';
                successMessage.style.display = 'none';
            }

            // ÊòæÁ§∫/ÈöêËóèÂä†ËΩΩÁä∂ÊÄÅ
            function showLoading(loading) {
                if (loading) {
                    registerBtn.classList.add('loading');
                    registerBtn.disabled = true;
                    registerBtn.textContent = 'Ê≥®ÂÜå‰∏≠...';
                } else {
                    registerBtn.classList.remove('loading');
                    registerBtn.disabled = false;
                    registerBtn.textContent = 'ÂàõÂª∫Ë¥¶Êà∑';
                }
            }
        });
    </script>
</body>
</html>